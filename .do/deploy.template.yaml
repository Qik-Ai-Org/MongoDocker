spec:
  name: opensigndb
  ingress:
    rules:
    - component:
        name: amolshejole-opensignserver
      match:
        path:
          prefix: /api
    - component:
        name: amolshejole-opensign
      match:
        path:
          prefix: /
  services:
  - name: amolshejole-opensign
    run_command: npm run start
    http_port: 8080
    image:
      registry: amolshejole
      registry_type: DOCKER_HUB
      repository: opensign
      tag: main
  - name: amolshejole-opensignserver
    http_port: 8080
    image:
      registry: amolshejole
      registry_type: DOCKER_HUB
      repository: opensignserver
      tag: main
  - name: opensigndb
    dockerfile_path: Dockerfile
    git:
      repo_clone_url: https://github.com/Qik-Ai-Org/MongoDocker.git
      branch: main
    envs:
    - key: SECRET_KEY_BASE
      scope: RUN_TIME
    - key: DATABASE_URL
      scope: RUN_TIME
      value: ${opensigndomanaged-db.DATABASE_URL}
  databases:
  - name: opensigndomanaged-db
